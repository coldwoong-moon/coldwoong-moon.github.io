<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="{{ .Site.Params.defaultThemeColor | default "#ffffff" }}" />
  {{/* Title */}}
  {{ if .IsHome -}}
    <title>{{ .Site.Title | emojify }}</title>
    <meta name="title" content="{{ .Site.Title | emojify }}" />
  {{- else -}}
    <title>{{ .Title | emojify }} &middot; {{ .Site.Title | emojify }}</title>
    <meta name="title" content="{{ .Title | emojify }} &middot; {{ .Site.Title | emojify }}" />
  {{- end }}
  
  {{/* JetBrains Mono Font for Code */}}
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap" rel="stylesheet">
  
  {{/* CSS */}}
  {{ $cssMain := resources.Get "css/compiled/main.css" }}
  {{ if $cssMain }}
    <link rel="stylesheet" href="{{ $cssMain.RelPermalink }}" />
  {{ end }}
  {{ $cssCustom := resources.Get "css/custom.css" }}
  {{ if $cssCustom }}
    <link rel="stylesheet" href="{{ $cssCustom.RelPermalink }}" />
  {{ end }}
  
  {{/* JavaScript */}}
  {{ $jsAppearance := resources.Get "js/appearance.js" }}
  {{ if $jsAppearance }}
    <script src="{{ $jsAppearance.RelPermalink }}"></script>
  {{ end }}
  {{ $jsMenu := resources.Get "js/menu.js" }}
  {{ if $jsMenu }}
    <script src="{{ $jsMenu.RelPermalink }}"></script>
  {{ end }}
  {{/* Metadata */}}
  <meta
    name="description"
    content="{{ with .Description }}
      {{ . }}
    {{ else }}
      {{ if .IsPage }}
        {{ .Summary }}
      {{ else }}
        {{ with .Site.Params.description }}{{ . }}{{ end }}
      {{ end }}
    {{ end }}"
  />
  {{ with union .Site.Params.keywords .Params.keywords -}}
    <meta name="keywords" content="{{ delimit . `, ` }}" />
  {{- end }}
  {{ with .Site.Params.robots }}
    <meta name="robots" content="{{ . }}" />
  {{ end }}
  {{ with .Params.robots }}
    <meta name="robots" content="{{ . }}" />
  {{ end }}
  <link rel="canonical" href="{{ .Permalink }}" />
  {{ range .AlternativeOutputFormats -}}
    {{ printf `<link rel="%s" type="%s" href="%s" title="%s" />` .Rel .MediaType.Type .RelPermalink ($.Site.Title | emojify) | safeHTML }}
  {{ end -}}
  {{/* Icons */}}
  {{ partial "favicons.html" . }}
  {{/* Site Verification */}}
  {{ with .Site.Params.verification.google }}
    <meta name="google-site-verification" content="{{ . }}" />
  {{ end }}
  {{ with .Site.Params.verification.bing }}
    <meta name="msvalidate.01" content="{{ . }}" />
  {{ end }}
  {{ with .Site.Params.verification.pinterest }}
    <meta name="p:domain_verify" content="{{ . }}" />
  {{ end }}
  {{ with .Site.Params.verification.yandex }}
    <meta name="yandex-verification" content="{{ . }}" />
  {{ end }}
  {{ with $.Params.externalUrl }}
    <meta http-equiv="refresh" content="0; url={{ . }}" />
  {{ end }}
  {{/* Social */}}
  {{ template "_internal/opengraph.html" . }}
  {{ template "_internal/twitter_cards.html" . }}
  {{/* Schema */}}
  {{ partial "schema.html" . }}
  {{/* Me */}}
  {{ with .Site.Language.Params.Author.name }}<meta name="author" content="{{ . }}" />{{ end }}
  {{ with .Site.Language.Params.Author.links }}
    {{ range $links := . }}
      {{ range $name, $url := $links }}<link href="{{ $url }}" rel="me" />{{ end }}
    {{ end }}
  {{ end }}
  {{/* Vendor */}}
  {{ partial "vendor.html" . }}
  {{/* Analytics */}}
  {{ partial "analytics.html" . }}
  {{/* Google AdSense */}}
  {{ if and .Site.Params.adsense.enable .Site.Params.adsense.client }}
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client={{ .Site.Params.adsense.client }}"
         crossorigin="anonymous"></script>
  {{ end }}
  {{/* Extend head - eg. for custom analytics scripts, etc. */}}
  {{ if templates.Exists "partials/extend-head.html" }}
    {{ partial "extend-head.html" . }}
  {{ end }}
</head>
